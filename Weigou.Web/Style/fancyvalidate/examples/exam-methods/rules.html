<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Fancy Validate - builtin rules</title>
  <link href="../css/example.css" rel="stylesheet" />
  <link href="../../css/fancyValidate.css" rel="stylesheet" />
  <script src="../../fancyValidate.min.js"></script>
  <script src="../../fancyValidate.additional.min.js"></script>
  <script src="../../external/My97DatePicker/WdatePicker.js"></script>
  <script>
    function fn2(value, element) {
      return this.optional(element) || value.indexOf("test") > -1;
    }

    $f.addMethod("fn1", function(value, element) {
      return this.optional(element) || value % 2 == 0 && value % 3 == 0;
    }, "必须能被2和3整除");

    $f.addPattern("re1",
      /(?=^.{8,}$)((?=.*\d)|(?=.*[^a-zA-Z0-9]+))(?!.*\n)(?=.*[A-Z])(?=.*[a-z]).*$/,
      "强度不够");

    $f.dom.ready(function() {
      $f("fancyform", {
        rules: {
          ajax: { required: 1, ajax: "ajax.ashx" }
          , ajax2: { required: 1, ajax: {
              url: "ajax.ashx"
              , callback: function(text) {
                return text != 1;
              }
            }
          }
          , digit: { required: 1, digit: 1, range: [1, 9999] }
          , numeric: { required: 1, numeric: 1, range: [.1, 999.999] }
          , date: { required: 1, date: 1 }
          , date2: { required: 1, date2: 1 }
          , wdate: { required: 1, date: 1 }
          , equal: { required: 1, equal: 123 }
          , email: { required: 1, email: 1 }
          , url: { required: 1, url: 1 }
          , ipv4: { required: 1, ipv4: 1 }
          , time: { required: 1, time: 1 }
          , chinese: { required: 1, chinese: 1 }
          , phone: { required: 1, phone: 1 }
          , mobile: { required: 1, mobile: 1 }
          , zipcode: { required: 1, zipcode: 1 }
          , idcard: { required: 1, idcard: 1 }
          , compressed: { required: 1, compressed: 1 }
          , picture: { required: 1, picture: 1 }
          , re1: { required: 1, re1: 1 }
          , fn1: { required: 1, fn1: 1 }
          , fn2: { required: 1, fn: "fn2" }
        }
        , messages: {
          fn2: { fn: "必须包含test" }
          , ajax: { ajax: "输入12345就可以验证成功！" }
          , ajax2: { ajax: "只要不是12345就可以验证成功！" }
        }
        , submitHandler: function() {
          alert("验证成功！");
        }
      });
    });
  </script>
</head>
<body>
  <h1>builtin rules 内置的规则</h1>
  <form action="?" id="fancyform">
  <ul>
    <li>
      <label class="ttl">ajax：</label>
      <input class="fin h23" type="text" name="ajax" />
    </li>
    <li>
      <label class="ttl">ajax2：</label>
      <input class="fin h23" type="text" name="ajax2" />
    </li>
    <li>
      <label class="ttl">数字：</label>
      <input class="fin h23" type="text" name="digit" />
    </li>
    <li>
      <label class="ttl">小数：</label>
      <input class="fin h23" type="text" name="numeric" />
    </li>
    <li>
      <label class="ttl">日期：</label>
      <input class="fin h23" type="text" name="date" />
    </li>
    <li>
      <label class="ttl">日期2：</label>
      <input class="fin h23" type="text" name="date2" />
    </li>
    <li>
      <label class="ttl">日期控件：</label>
      <input class="fin h23" type="text" name="wdate" onclick="WdatePicker()" readonly="readonly" />
    </li>
    <li>
      <label class="ttl">相等：</label>
      <input class="fin h23" type="text" name="equal" />
    </li>
    <li>
      <label class="ttl">邮件：</label>
      <input class="fin h23" type="text" name="email" />
    </li>
    <li>
      <label class="ttl">网址：</label>
      <input class="fin h23" type="text" name="url" />
    </li>
    <li>
      <label class="ttl">ip：</label>
      <input class="fin h23" type="text" name="ipv4" />
    </li>
    <li>
      <label class="ttl">标准时间：</label>
      <input class="fin h23" type="text" name="time" />
    </li>
    <li>
      <label class="ttl">中文：</label>
      <input class="fin h23" type="text" name="chinese" />
    </li>
    <li>
      <label class="ttl">电话：</label>
      <input class="fin h23" type="text" name="phone" />
    </li>
    <li>
      <label class="ttl">手机：</label>
      <input class="fin h23" type="text" name="mobile" />
    </li>
    <li>
      <label class="ttl">邮编：</label>
      <input class="fin h23" type="text" name="zipcode" />
    </li>
    <li>
      <label class="ttl">身份证：</label>
      <input class="fin h23" type="text" name="idcard" />
    </li>
    <li>
      <label class="ttl">压缩包：</label>
      <input class="fin h23 file" type="file" name="compressed" />
    </li>
    <li>
      <label class="ttl">图片：</label>
      <input class="fin h23 file" type="file" name="picture" />
    </li>
    <li>
      <label class="ttl"></label>
      <strong>以下为自定义</strong> </li>
    <li>
      <label class="ttl">函数：</label>
      <input class="fin h23" type="text" name="fn1" />
    </li>
    <li>
      <label class="ttl">函数2：</label>
      <input class="fin h23" type="text" name="fn2" />
    </li>
    <li>
      <label class="ttl">正则：</label>
      <input class="fin h23" type="text" name="re1" />
    </li>
    <li>
      <label class="ttl"></label>
      <input class="btn" type="submit" value="提交" />
    </li>
  </ul>
  </form>
</body>
</html>